<div class="wrapper">
  <div class="main-panel">
    <div id="main-tab">
      <div class="btn-group">
        <ul class="nav">
          <li class="dropdown">
            <a class="btn btn-info" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-handshake-o"></i><p>Compra de propiedades  <span class="fa fa-caret-down"></span></p></a>
              <div class="dropdown-backdrop"></div>
                <ul class="dropdown-menu" role="">
                  <li>
                    <a ng-click="siguiente()"><i class="fa fa-pencil fa-fw"></i>Ver propiedades compradas</a>
                  </li>
                  <li>
                    <a ng-click="anterior()"><i class="fa fa-book fa-fw"></i>Comprar propiedad</a>
                  </li>
                </ul>
          </li>
        </ul>
      </div>
      <div class="btn-group">
        <ul class="nav">
          <li class="dropdown">
            <a class="btn btn-info" href="#!/players"><i class="fa fa-user fa-fw"></i><p>Jugadores</p></a>
          </li>
        </ul>
      </div>
      <div class="btn-group">
        <ul class="nav">
          <li class="dropdown">
            <a class="btn btn-info" href="#!/properties"><i class="fa fa-building-o"></i><p>Lista de propiedades</p></a>
          </li>
        </ul>
      </div>
    </div>
    <!-- Inicio de la sección registerBuy, que contiene el formulario del jugador, registrar, modificar y listar-->
    <div class="container-fluid" ng-show="pagina==1">
      <section id="registerBuy">
        <h1 class="text-center">Compra de propiedades</h1>
        <hr>
          <!-- Inicio del formulario -->
          <form name="frmRegisterBuy" novalidate autocomplete="off">
            <!--Inicio de los inpust para el formulario  -->
            <div class="row">
              <md-input-container class="col-xs-12 col-sm-12 col-md-12" layout="column">
                <label for="">Seleccione el jugador que compra la propiedad:</label>
                <input type="text" list="playerList" ng-model="vm.players" name="player" required>
                <datalist id="playerList">
                  <option value="">Seleccione un jugador</option>
                  <option ng-repeat="players in vm.playerRel" value="{{players.namePlayer}}">{{vm.players.namePlayer}}</option>
                </datalist>
                <div ng-messages="frmRegisterBuy.players.$error">
                  <div ng-messages-include="components/includes/messages.html"></div>
                </div> <!--cierre del ng-messages -->
              </md-input-container>

              <md-input-container class="col-xs-12 col-sm-12 col-md-12" layout="column">
                <label for="">Seleccione la propiedad a comprar:</label>
                <input type="text" list="propertyList" ng-model="vm.properties" name="property" required>
                <datalist id="propertyList">
                  <option value="">Seleccione propiedad</option>
                  <option ng-repeat="properties in vm.propertyRel" value="{{properties.name}}">{{vm.properties.name}}</option>
                </datalist>
                <div ng-messages="frmRegisterBuy.properties.$error">
                  <div ng-messages-include="components/includes/messages.html"></div>
                </div> <!--cierre del ng-messages -->
              </md-input-container>

              <div class="col-xs-12"><center>
                <div id="registrar">
                  <md-button class="button Active" type="submit" ng-click="vm.save();vm.DiscountPrice()" ng-disabled="frmRegisterBuy.$invalid">Confirmar venta de propiedad</md-button>
                </div>

                <div class="displayNone" id="actualizar">
                  <md-button class="button edit" type="button" ng-disabled="frmRegisterBuy.$invalid" ng-click="vm.update(buy);siguiente()">Actualizar</md-button>
                </div>
              </div>
            </div><!--cierre del row-->
          </form> <!-- Cierre del formulario del registerBuy  -->
      </section> <!-- Cierre de la sección registerBuy -->
    </div><!--cierre de pagina1-->

    <div class="container" ng-show="pagina==2">
      <h1>Propiedades compradas</h1>
      <hr>
      <!--Buscador de jugadores-->
      <section class="inputSearch">
        <div class="col-sm-3 col-md-3 col-sm-offset-9 col-md-offset-9">
          <form action="" class="search-form">
            <div class="form-group has-feedback">
              <label for="Buscar" class="sr-only">Buscar</label>
              <input type="text" class="form-control" name="nameFilter" ng-model="vm.nameFilter" placeholder="Buscar...">
              <span class="glyphicon glyphicon-search form-control-feedback"></span>
            </div>
          </form>
        </div>
      </section>

      <div class="col-xs-12">
       <!--inicio de los cards -->
        <md-card class="container-fluid col-md-4 col-sm-6 " ng-repeat="buy in vm.buy | filter:vm.nameFilter">
          <md-card-header>
            <md-card-header-text>
              <span class="md-title">Jugador que compra: {{buy.players}}</span>
              <span class="md-subhead">Propiedad comprada: {{buy.properties}}</span>
            </md-card-header-text>
          </md-card-header>

          <!-- Boton para cambiar el editar los jugadores -->
          <md-card-actions id="buttons">
            <md-button class="edit" ng-click="vm.getInfo(buy);vm.hideButton();registro1()">Editar</md-button>
          <md-card-icon-actions> <!-- cierre botones  -->
      </div> <!--fin de los cards -->
    </div> <!--Cierre pagina2 -->
    <section class="copyright">
      <div class="col-md-12">
        <div class="copyright">
          <!-- COPYRIGHT TEXT -->
          <p>©Pgranados - All rights reserved 2017.</p>
        </div>
      </div>
    </section>
  </div><!-- cierre main-panel-->
</div><!--cierre de wrapper-->
